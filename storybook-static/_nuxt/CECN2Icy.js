import{u as _}from"./DmfvTtO6.js";import k from"./sxFAT7m7.js";import{D as u}from"./BRL1bMNs.js";import{s as H}from"./xQwSG8Qu.js";import{B as I}from"./DqbVwyie.js";import{j as b,c as d,o as i,x as y,d as c,y as A,k as v,F as g,p as D,m as f}from"./DY6LMajd.js";import"./Be1fzYNM.js";import"./DGEOgZpe.js";import"./D8MCOo9K.js";import"./B3EbFrEO.js";import"./CV8AKT6G.js";import"./CoGOkgiW.js";import"./BDeDiePN.js";import"./CyeDdDHw.js";import"./CZg7ZADd.js";import"./CidDMVVE.js";import"./DJJ2nUAv.js";import"./CCQ_ZXOd.js";import"./Czux3W2p.js";import"./DE7A-X-3.js";import"./ClMS_8Bx.js";import"./BZvC9vFP.js";import"../sb-preview/runtime.js";import"./B7bjcsJa.js";var L=I.extend({name:"dynamicdialog"}),x={name:"BaseDynamicDialog",extends:H,props:{},style:L,provide:function(){return{$pcDynamicDialog:this,$parentInstance:this}}},B={name:"DynamicDialog",extends:x,inheritAttrs:!1,data:function(){return{instanceMap:{}}},openListener:null,closeListener:null,currentInstance:null,mounted:function(){var t=this;this.openListener=function(m){var s=m.instance,a=_()+"_dynamic_dialog";s.visible=!0,s.key=a,t.instanceMap[a]=s},this.closeListener=function(m){var s=m.instance,a=m.params,p=s.key,n=t.instanceMap[p];n&&(n.visible=!1,n.options.onClose&&n.options.onClose({data:a,type:"config-close"}),t.currentInstance=n)},u.on("open",this.openListener),u.on("close",this.closeListener)},beforeUnmount:function(){u.off("open",this.openListener),u.off("close",this.closeListener)},methods:{onDialogHide:function(t){!this.currentInstance&&t.options.onClose&&t.options.onClose({type:"dialog-close"})},onDialogAfterHide:function(t){this.currentInstance&&delete this.currentInstance,this.currentInstance=null,delete this.instanceMap[t.key]},getTemplateItems:function(t){return Array.isArray(t)?t:[t]}},components:{DDialog:k}};function C(o,t,m,s,a,p){var n=b("DDialog");return i(!0),d(g,null,y(a.instanceMap,function(e,h){return i(),c(n,f({key:h,visible:e.visible,"onUpdate:visible":function(r){return e.visible=r},_instance:e,ref_for:!0},e.options.props,{onHide:function(r){return p.onDialogHide(e)},onAfterHide:function(r){return p.onDialogAfterHide(e)}}),A({default:v(function(){return[(i(),c(D(e.content),f({ref_for:!0},e.options.emits),null,16))]}),_:2},[e.options.templates&&e.options.templates.header?{name:"header",fn:v(function(){return[(i(!0),d(g,null,y(p.getTemplateItems(e.options.templates.header),function(l,r){return i(),c(D(l),f({key:r+"_header",ref_for:!0},e.options.emits),null,16)}),128))]}),key:"0"}:void 0,e.options.templates&&e.options.templates.footer?{name:"footer",fn:v(function(){return[(i(!0),d(g,null,y(p.getTemplateItems(e.options.templates.footer),function(l,r){return i(),c(D(l),f({key:r+"_footer",ref_for:!0},e.options.emits),null,16)}),128))]}),key:"1"}:void 0]),1040,["visible","onUpdate:visible","_instance","onHide","onAfterHide"])}),128)}B.render=C;export{B as default};
